(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69661304"],{3865:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{class:t.cdlass,attrs:{title:t.state}},[t._v(" "+t._s(void 0!==t.label?t.label:t.state)+" ")])},l=[],o={name:"Status",props:["state","label"],computed:{cdlass:function(){switch(this.state){case"LIMITED":case"DEAD":case"INVALID_CREDENTIALS":case"BETS_LIMITED":case"WITHDRAW_LIMITED":case"DEPOSIT_LIMITED":case"FAILED":case"PROXY_ERROR":case"MAXIMUM_0":case"NO_FUNDS":case"LOSE":return"tag is-danger";case"OFFLINE":case"MAINTENANCE":case"INACTIVE":case"STARTING":return"tag is-warning";case"BUSY":case"PENDING":return"tag is-info";case"ONLINE":case"SCHEDULED":case"SUCCESS":case"IDLE":case"ACCEPTED":case"WON":return"tag is-success";default:return"tag is-light"}}}},n=o,i=s("2877"),r=Object(i["a"])(n,a,l,!1,null,"0e07a587",null);e["a"]=r.exports},aa54:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("h4",{staticClass:"page-header"},[s("b-icon",{attrs:{icon:"account-group"}}),s("span",[t._v("Аккаунты")])],1),s("b-button",{attrs:{tag:"router-link",type:"is-primary",outlined:"",to:{path:"/rooms/create"}}},[s("span",[t._v("Создать")])])],1)]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("b-table",{attrs:{data:t.items,paginated:!0,bordered:!0,striped:!0,loading:t.loading,"per-page":t.perPage}},[s("b-table-column",{attrs:{field:"name",label:"Название",sortable:"",searchable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),s("b-table-column",{attrs:{field:"bookmaker",label:"Контора",width:"100",sortable:"",searchable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.bookmaker)+" ")]}}])}),s("b-table-column",{attrs:{field:"state",width:"100",label:"Статус",searchable:"",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("Status",{attrs:{state:t.row.state}})]}}])}),s("b-table-column",{attrs:{field:"state",width:"50",label:"Стратегий",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.strategies)+" ")]}}])}),s("b-table-column",{attrs:{field:"balance",label:"Баланс",width:"100",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.balance?s("Money",{attrs:{amount:e.row.balance,currency:e.row.currency}}):t._e()]}}])}),s("b-table-column",{attrs:{field:"placed_balance",label:"В ставках",width:"100",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.placed_balance?s("Money",{attrs:{amount:e.row.placed_balance,currency:e.row.currency}}):t._e()]}}])}),s("b-table-column",{attrs:{field:"bets",label:"Откр.Ставок",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.bets)+" ")]}}])}),s("b-table-column",{attrs:{field:"last_bet_at",label:"Посл.Ставка",sortable:"","cell-class":"leftal"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.last_bet_at_hr)+" ")]}}])}),s("b-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("ul",{staticClass:"horizontal"},[e.row.can_be_edited?s("li",[s("router-link",{attrs:{to:{path:"/rooms/create?id="+e.row.id},tag:"span"}},[s("b-button",{attrs:{type:"is-info",size:"is-small",outlined:""}},[s("b-icon",{attrs:{icon:"pencil",size:"is-small"}})],1)],1)],1):t._e(),e.row.can_be_started?s("li",[s("b-button",{attrs:{size:"is-small",type:"is-success",outlined:"",title:"Запуск"},on:{click:function(s){return t.start_(e.row.id)}}},[s("b-icon",{attrs:{icon:"play",size:"is-small"}})],1)],1):t._e(),e.row.can_be_stopped?s("li",[s("b-button",{attrs:{size:"is-small",type:"is-warning",outlined:"",title:"Стоп"},on:{click:function(s){return t.stop_(e.row.id)}}},[s("b-icon",{attrs:{icon:"stop",size:"is-small"}})],1)],1):t._e(),e.row.can_be_deleted?s("li",[s("b-button",{attrs:{size:"is-small",type:"is-danger",outlined:"",title:"Удалить"},on:{click:function(s){return t.delete_(e.row.id)}}},[s("b-icon",{attrs:{icon:"delete",size:"is-small"}})],1)],1):t._e(),s("li",[s("b-button",{attrs:{tag:"router-link",title:"Статистика",size:"is-small",type:"is-success",to:"/statistic/room?id="+e.row.id}},[s("b-icon",{attrs:{size:"is-small",icon:"chart-bar"}})],1)],1)])]}}])})],1)],1)])])},l=[],o=(s("d3b7"),s("2b0e")),n=s("f802"),i=s("3865"),r={name:"Index",data:function(){return{perPage:15,currentPage:1,loading:!1,items:[]}},components:{Status:i["a"],Money:n["a"]},methods:{start_:function(t){var e=this;confirm("Запустить аккаунт?")&&(this.loading=!0,o["a"].prototype.$http.post("https://betexy.com/api/rooms/start",{room:{id:t}}).then((function(t){e.retrieve(),o["a"].prototype.flashMessage.show({status:"success",title:"Запрос выполнен",message:"Аккаунт запущен"})})).catch((function(t){o["a"].prototype.flashMessage.show({status:"error",title:"Запрос не выполнен",message:"Не удалось запустить аккаунт"})})).finally((function(){e.loading=!1})))},stop_:function(t){var e=this;confirm("Остановить аккаунт?")&&(this.loading=!0,o["a"].prototype.$http.post("https://betexy.com/api/rooms/stop",{room:{id:t}}).then((function(t){e.retrieve(),o["a"].prototype.flashMessage.show({status:"success",title:"Запрос выполнен",message:"Аккаунт остановлен"})})).catch((function(t){o["a"].prototype.flashMessage.show({status:"error",title:"Запрос не выполнен",message:"Не удалось остановить аккаунт"})})).finally((function(){e.loading=!1})))},delete_:function(t){var e=this;confirm("Удалить аккаунт?")&&(this.loading=!0,o["a"].prototype.$http.delete("https://betexy.com/api/"+"rooms/index?id=".concat(t)).then((function(t){e.retrieve(),o["a"].prototype.flashMessage.show({status:"success",title:"Запрос выполнен",message:"Аккаунт удален"})})).catch((function(t){o["a"].prototype.flashMessage.show({status:"error",title:"Запрос не выполнен",message:"Не удалось удалить аккаунт"})})).finally((function(){e.loading=!1})))},retrieve:function(){var t=this;this.loading=!0,o["a"].prototype.$http.get("https://betexy.com/api/rooms/index").then((function(e){t.items=e.data.result.items})).catch((function(t){o["a"].prototype.flashMessage.show({status:"error",title:"Что-то пошло не так",message:"Не удалось получить данные"})})).finally((function(){t.loading=!1}))}},mounted:function(){this.retrieve()},metaInfo:function(){return{title:"Аккаунты"}}},c=r,u=s("2877"),d=Object(u["a"])(c,a,l,!1,null,"05f87556",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-69661304.db1677d5.js.map